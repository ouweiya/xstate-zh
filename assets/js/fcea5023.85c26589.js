"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[8742],{61724:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var o=n(85893),i=n(11151);const r={title:"Connect GitHub repo",description:"Sync your machines from GitHub with Stately Studio."},s=void 0,a={id:"import-from-github",title:"Connect GitHub repo",description:"Sync your machines from GitHub with Stately Studio.",source:"@site/docs/import-from-github.mdx",sourceDirName:".",slug:"/import-from-github",permalink:"/xstate-zh/docs/import-from-github",draft:!1,unlisted:!1,editUrl:"https://github.com/statelyai/docs/tree/main/docs/import-from-github.mdx",tags:[],version:"current",frontMatter:{title:"Connect GitHub repo",description:"Sync your machines from GitHub with Stately Studio."},sidebar:"tutorialSidebar",previous:{title:"Import from code",permalink:"/xstate-zh/docs/import-from-code"},next:{title:"Generate test paths",permalink:"/xstate-zh/docs/generate-test-paths"}},l={},c=[{value:"Connect GitHub repo",id:"connect-github-repo",level:2},{value:"Auto-sync",id:"auto-sync",level:3},{value:"Path for new files",id:"path-for-new-files",level:3},{value:"Create pull request",id:"create-pull-request",level:3},{value:"Update pull request",id:"update-pull-request",level:4},{value:"Sync multiple branches",id:"sync-multiple-branches",level:3},{value:"Sync new machines created in Stately Studio",id:"sync-new-machines-created-in-stately-studio",level:3},{value:"Sync changes to machines from GitHub",id:"sync-changes-to-machines-from-github",level:3},{value:"GitHub permissions",id:"github-permissions",level:2},{value:"Automatic setup",id:"automatic-setup",level:3},{value:"GitHub personal access token",id:"github-personal-access-token",level:3},{value:"Import machine from a GitHub URL",id:"import-machine-from-a-github-url",level:2},{value:"Pull requests",id:"pull-requests",level:3},{value:"Bookmarklet",id:"bookmarklet",level:3},{value:"Example",id:"example",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{Code:n,Github:r,Settings:s}=t;return n||d("Code",!0),r||d("Github",!0),s||d("Settings",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"You can connect a GitHub repo to a new project in Stately Studio, keeping updates between GitHub and Stately Studio in sync. Connecting a GitHub repo allows you to import your existing machines from GitHub and push changes to your machines back to your repo as pull requests."}),"\n",(0,o.jsx)(t.admonition,{type:"studio",children:(0,o.jsxs)(t.p,{children:["Connect GitHub repo is a premium feature of Stately Studio. You can try Stately Studio\u2019s premium plans with a free trial. ",(0,o.jsx)(t.a,{href:"/xstate-zh/docs/studio-pro-plan",children:"Check out the features on our Pro plan"}),", ",(0,o.jsx)(t.a,{href:"/xstate-zh/docs/studio-team-plan",children:"Team plan"}),", ",(0,o.jsx)(t.a,{href:"/xstate-zh/docs/studio-enterprise-plan",children:"Enterprise plan"})," or ",(0,o.jsx)(t.a,{href:"https://stately.ai/registry/billing",children:"upgrade your existing plan"}),"."]})}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["While this feature is in beta, it works best when connecting less than\n100 files. For larger repos, we recommend creating single-file PRs.\nRead about that feature ",(0,o.jsx)(t.a,{href:"/blog/2024-02-16-changelog#make-github-pull-requests-for-single-files-from-inside-stately-studio",children:"here"}),"."]})}),"\n",(0,o.jsx)(t.h2,{id:"connect-github-repo",children:"Connect GitHub repo"}),"\n",(0,o.jsxs)(t.p,{children:["Use the ",(0,o.jsx)(t.strong,{children:"Connect GitHub repo"})," button found in the Projects dashboard to start connecting a GitHub repo. There are three steps to setting up your GitHub repo as a connected project:"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Select the repo. You can choose the repos based on your GitHub permissions."}),"\n",(0,o.jsx)(t.li,{children:"Select the branch. You can choose any branch in your repo."}),"\n",(0,o.jsx)(t.li,{children:"Choose the files you want to sync. You can sync any JavaScript or TypeScript files, but only XState machines will be imported."}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["Choose the XState version for your synced machines from the dropdown menu in the ",(0,o.jsx)(n,{size:18})," ",(0,o.jsx)(t.strong,{children:"Code"})," panel."]})}),"\n",(0,o.jsx)(t.h3,{id:"auto-sync",children:"Auto-sync"}),"\n",(0,o.jsxs)(t.p,{children:["Enabling ",(0,o.jsx)(t.strong,{children:"auto-sync"})," will automatically fetch the latest changes from your connected repository every time you open or refresh the project in the Studio."]}),"\n",(0,o.jsxs)(t.p,{children:["Disable auto-sync from the GitHub options from the ",(0,o.jsx)(r,{size:18})," repository name in the footer of the left drawer."]}),"\n",(0,o.jsx)(t.h3,{id:"path-for-new-files",children:"Path for new files"}),"\n",(0,o.jsxs)(t.p,{children:["You can choose a ",(0,o.jsx)(t.strong,{children:"Path for new files"})," for when you create new machines in this connected project. These machines will be added at this relative path from the root of your repo. The default path is ",(0,o.jsx)(t.strong,{children:"src/stately-studio"})," and will be created in your repo the first time you add new machines to a pull request."]}),"\n",(0,o.jsx)(t.h3,{id:"create-pull-request",children:"Create pull request"}),"\n",(0,o.jsxs)(t.p,{children:["Open the GitHub options from the ",(0,o.jsx)(r,{size:18})," repository name in the footer of the left drawer. You can create pull requests from the GitHub options for any changes made to your machine."]}),"\n",(0,o.jsx)(t.h4,{id:"update-pull-request",children:"Update pull request"}),"\n",(0,o.jsxs)(t.p,{children:["If you have already created a pull request for your machine, you can update the pull request with any changes you have made in the Studio. Open the GitHub options from the ",(0,o.jsx)(r,{size:18})," repository name in the footer of the left drawer and choose ",(0,o.jsx)(t.strong,{children:"Update pull request"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"sync-multiple-branches",children:"Sync multiple branches"}),"\n",(0,o.jsx)(t.p,{children:"You can sync multiple branches in your GitHub repo to the same project in Stately Studio. Open the GitHub branch options from the branch name in the footer of the left drawer to choose additional branches."}),"\n",(0,o.jsx)(t.h3,{id:"sync-new-machines-created-in-stately-studio",children:"Sync new machines created in Stately Studio"}),"\n",(0,o.jsxs)(t.p,{children:["Creating a new machine in Stately Studio in a connected project will flag the machine in your Machines list as ",(0,o.jsx)(t.strong,{children:"Not synced with GitHub"}),". You can sync the machine with your GitHub repo by ",(0,o.jsx)(t.a,{href:"#create-pull-request",children:"creating a pull request from the GitHub options"})," from the ",(0,o.jsx)(r,{size:18})," repository name in the footer of the left drawer."]}),"\n",(0,o.jsxs)(t.p,{children:["Your new machine will be added to your repo at the ",(0,o.jsx)(t.a,{href:"#path-for-new-files",children:(0,o.jsx)(t.strong,{children:"Path for new files"})})," you have chosen."]}),"\n",(0,o.jsx)(t.h3,{id:"sync-changes-to-machines-from-github",children:"Sync changes to machines from GitHub"}),"\n",(0,o.jsxs)(t.p,{children:["If you have ",(0,o.jsx)(t.a,{href:"#auto-sync",children:"auto-sync enabled"}),", any changes made to your GitHub repo will be synced to your project in Stately Studio when you open or refresh the project in the Studio."]}),"\n",(0,o.jsxs)(t.p,{children:["If you don\u2019t have auto-sync enabled, you can sync any changes made to your GitHub repo using ",(0,o.jsx)(t.strong,{children:"Sync now"})," in the GitHub options from the ",(0,o.jsx)(r,{size:18})," repository name in the footer of the left drawer."]}),"\n",(0,o.jsx)(t.h2,{id:"github-permissions",children:"GitHub permissions"}),"\n",(0,o.jsxs)(t.p,{children:["Importing your GitHub repos with ",(0,o.jsx)(t.strong,{children:"Connect GitHub repo"})," or importing a machine with a GitHub URL will prompt you to give our GitHub integration access to your GitHub repositories. You can choose from ",(0,o.jsx)(t.strong,{children:"Automatic setup"})," or ",(0,o.jsx)(t.strong,{children:"Personal access token"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"automatic-setup",children:"Automatic setup"}),"\n",(0,o.jsxs)(t.p,{children:["Automatic setup will enable access to all the repositories your GitHub user can access. You can ",(0,o.jsx)(t.a,{href:"#personal-access-token",children:"provide your own personal access token"})," if you need more granular control."]}),"\n",(0,o.jsx)(t.h3,{id:"github-personal-access-token",children:"GitHub personal access token"}),"\n",(0,o.jsxs)(t.p,{children:["For more granular control, you can provide a ",(0,o.jsx)(t.a,{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens",children:"personal access token"}),". You can create a personal access token in your GitHub account settings under ",(0,o.jsx)(t.a,{href:"https://github.com/settings/tokens",children:"Developer Settings"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"To ensure GitHub Sync works correctly, you must grant the following permissions to your personal access token:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Contents"}),": Allow ",(0,o.jsx)(t.strong,{children:"Read and write"})," access so Stately Studio can import your machines and create files for machines added in the Studio."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Pull requests"}),": Allow ",(0,o.jsx)(t.strong,{children:"Read and write"})," access so Stately Studio can create pull requests for you (optional)."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["You can update your personal access token from your user ",(0,o.jsx)(s,{size:18})," ",(0,o.jsx)(t.strong,{children:"Settings"})," in Stately Studio anytime."]}),"\n",(0,o.jsx)(t.h2,{id:"import-machine-from-a-github-url",children:"Import machine from a GitHub URL"}),"\n",(0,o.jsx)(t.p,{children:"If you want to quickly import a machine, or multiple machines, from a GitHub file without syncing, you can import from a GitHub URL."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Open a file containing one or more machines on GitHub."}),"\n",(0,o.jsxs)(t.li,{children:["Modify the URL in the browser\u2019s address bar to replace the ",(0,o.jsx)(t.code,{children:".com"})," with ",(0,o.jsx)(t.code,{children:".stately.ai"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"The editor will then display your imported machine."}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Save"})," the machine to enable editing and easily find your machine in your projects later."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Importing from a GitHub URL works with files in any branch in your private repositories, public repositories, and files in pull requests."}),"\n",(0,o.jsx)(t.h3,{id:"pull-requests",children:"Pull requests"}),"\n",(0,o.jsxs)(t.p,{children:["Once you\u2019ve made changes to your imported machine, you can use the ",(0,o.jsx)(t.strong,{children:"Create pull request"})," button to create a PR back to the source GitHub repository. If you want to make a pull request from your imported machine, you\u2019ll need to provide a ",(0,o.jsx)(t.a,{href:"#github-personal-access-token",children:"GitHub personal access token"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"bookmarklet",children:"Bookmarklet"}),"\n",(0,o.jsx)(t.p,{children:"Use the bookmarklet below to import single file machines from GitHub with one click."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Add a new bookmark to your browser"}),"\n",(0,o.jsxs)(t.li,{children:["Set the bookmark\u2019s web address to the following:\n",(0,o.jsx)(t.code,{children:"javascript:(function(){ location.href = 'https://github.stately.ai/' + window.location.pathname;})();"})]}),"\n",(0,o.jsx)(t.li,{children:"Click the bookmarklet when viewing a GitHub file containing one or more machines to import that machine to Stately Studio."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Or drag the following bookmarklet link to your bookmarks:"}),"\n",(0,o.jsx)("a",{style:{border:"1px solid",borderRadius:"1rem",padding:"0.5rem 0.75rem"},href:"javascript:(function()%7Bjavascript%3A(function()%7B%20location.href%20%3D%20'https%3A%2F%2Fgithub.stately.ai%2F'%20%2B%20window.location.pathname%3B%7D)()%3B%7D)()%3B",children:(0,o.jsx)(t.p,{children:"GitHub \u2192 Stately"})}),"\n",(0,o.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,o.jsxs)(t.p,{children:["When your machine is hosted at GitHub:\n",(0,o.jsx)(t.code,{children:"https://github.com/username/repo/blob/main/apps/superMachine.ts"}),", update the URL to\n",(0,o.jsx)(t.code,{children:"https://github.stately.ai/username/repo/blob/main/apps/superMachine.ts"})," and Stately Studio will start the import."]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["Read more in ",(0,o.jsx)(t.a,{href:"https://stately.ai/blog/2023-02-06-github-import-machines",children:"our blog post about importing a machine from a GitHub URL"}),"."]})})]})}function u(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}function d(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>s});var o=n(67294);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);