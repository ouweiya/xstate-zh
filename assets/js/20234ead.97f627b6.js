"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[4544],{12906:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var i=n(85893),s=n(11151);const o={title:"XState VS Code extension"},a="XState VS Code extension",r={id:"xstate-vscode-extension",title:"XState VS Code extension",description:"The XState VS Code extension enhances the XState development experience by providing VS Code users with autocomplete, typegen, linting, and a visual editor inside VS Code.",source:"@site/docs/xstate-vscode-extension.mdx",sourceDirName:".",slug:"/xstate-vscode-extension",permalink:"/xstate-zh/docs/xstate-vscode-extension",draft:!1,unlisted:!1,editUrl:"https://github.com/statelyai/docs/tree/main/docs/xstate-vscode-extension.mdx",tags:[],version:"current",frontMatter:{title:"XState VS Code extension"},sidebar:"tutorialSidebar",previous:{title:"\u5f00\u53d1\u8005\u5de5\u5177",permalink:"/xstate-zh/docs/category/developer-tools"},next:{title:"Visualizer",permalink:"/xstate-zh/docs/visualizer"}},d={},c=[{value:"Installation",id:"installation",level:2},{value:"Features",id:"features",level:2},{value:"TypeScript typegen",id:"typescript-typegen",level:2},{value:"<code>xsm</code> snippet",id:"xsm-snippet",level:2},{value:"Refactors",id:"refactors",level:2},{value:"Ignoring machines",id:"ignoring-machines",level:2},{value:"Machine layout persistence",id:"machine-layout-persistence",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"xstate-vs-code-extension",children:"XState VS Code extension"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.a,{href:"https://marketplace.visualstudio.com/items?itemName=statelyai.stately-vscode",children:"XState VS Code extension"})," enhances the XState development experience by providing VS Code users with autocomplete, typegen, linting, and a visual editor inside VS Code."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["If you don\u2019t use VS Code but use an open source code editor that supports VS Code extensions, you can ",(0,i.jsx)(t.a,{href:"https://open-vsx.org/extension/statelyai/stately-vscode",children:"download the XState VS Code extension from the OpenVSX registry"}),"."]})}),"\n",(0,i.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Open the command palette with ",(0,i.jsx)(t.code,{children:"shift"})," + ",(0,i.jsx)(t.code,{children:"cmd/ctrl"})," + ",(0,i.jsx)(t.code,{children:"p"}),"."]}),"\n",(0,i.jsx)(t.li,{children:"Search for the Install Extensions command and hit enter to open the Extensions search."}),"\n",(0,i.jsx)(t.li,{children:"Search for XState to find the XState VS Code extension and install the extension using the Install button."}),"\n",(0,i.jsxs)(t.li,{children:["Ensure you have ",(0,i.jsx)(t.a,{href:"https://code.visualstudio.com/docs/editor/codebasics#_indentation",children:"VS Code setup to insert spaces"}),"; we have noticed problems when tabs are used for indentation."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Once installed, you can run ",(0,i.jsx)(t.code,{children:"XState: Open Visual Editor"})," from the command palette to open any machine at your cursor\u2019s location."]}),"\n",(0,i.jsxs)(t.p,{children:["If you have code lens enabled (this can be enabled using ",(0,i.jsx)(t.code,{children:"editor.codeLens"})," setting), \u2018Open Visual Editor\u2019 will also float above each ",(0,i.jsx)(t.code,{children:"createMachine"})," call."]}),"\n",(0,i.jsxs)(t.p,{children:["You can also ",(0,i.jsx)(t.a,{href:"https://marketplace.visualstudio.com/items?itemName=statelyai.stately-vscode",children:"download the VS Code extension from the VS Code marketplace"})," or ",(0,i.jsx)(t.a,{href:"https://open-vsx.org/extension/statelyai/stately-vscode",children:"download the VS Code extension from the Open VSX marketplace"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Visually edit machines"}),". Edit any XState machine with drag-and-drop using the integrated ",(0,i.jsx)(t.a,{href:"https://stately.ai/editor",children:"Stately Visual editor"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Autocomplete"}),". Intelligent suggestions for transition targets and initial states."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Linting"}),". Highlights errors and potential bugs in your XState machine definitions."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Jump to definition"}),". Navigate around machines easily with jump to definition on targets, actions, guards, actors and more."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"typescript-typegen",children:"TypeScript typegen"}),"\n",(0,i.jsxs)(t.p,{children:["You can automatically generate intelligent typings for XState with our VS Code extension and ",(0,i.jsx)(t.a,{href:"/xstate-zh/docs/developer-tools#xstate-cli-command-line-interface",children:"command line interface"}),". ",(0,i.jsx)(t.a,{href:"/xstate-zh/docs/typegen",children:"Read more about how to use typegen, and our recommended best practices, on the Typegen page"}),"."]}),"\n",(0,i.jsxs)(t.h2,{id:"xsm-snippet",children:[(0,i.jsx)(t.code,{children:"xsm"})," snippet"]}),"\n",(0,i.jsxs)(t.p,{children:["Use the ",(0,i.jsx)(t.code,{children:"xsm"})," snippet to generate the code required for your state machine quickly. ",(0,i.jsx)(t.a,{href:"https://www.youtube.com/watch?v=Gk3mdlqadYM",children:"Watch the \u2018XState + VS Code: xsm snippet\u2019 video (1m23s)"})," for a demo."]}),"\n",(0,i.jsx)(t.h2,{id:"refactors",children:"Refactors"}),"\n",(0,i.jsx)(t.p,{children:"When hovering over a named action, guard or actor in a machine, press the lightbulb icon to view available refactors."}),"\n",(0,i.jsx)(t.h2,{id:"ignoring-machines",children:"Ignoring machines"}),"\n",(0,i.jsxs)(t.p,{children:["If you\u2019d like to ignore linting/autocomplete on a machine, add an ",(0,i.jsx)(t.code,{children:"// xstate-ignore-next-line"})," comment on the line above the machine:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"// xstate-ignore-next-line\ncreateMachine({});\n"})}),"\n",(0,i.jsxs)(t.admonition,{type:"tip",children:[(0,i.jsx)(t.h2,{id:"machine-layout-persistence",children:"Machine layout persistence"}),(0,i.jsxs)(t.p,{children:["Upon opening an XState machine in VS Code, you may notice a long ",(0,i.jsx)(t.code,{children:"@xstate-layout"})," comment inserted in the code just above the call to ",(0,i.jsx)(t.code,{children:"createMachine()"}),"."]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"const machine =\n/** @xstate-layout N4IgpgJg5mDOIC5QFEA... */\ncreateMachine({...});\n"})}),(0,i.jsx)(t.p,{children:"This layout string is for persisting manual changes you make to the machine\u2019s layout and is automatically updated by the XState Extension whenever layout changes occur. It is not intended to be human-readable nor manually edited. When updates to this string are made by the extension, the file is not saved until a manual save is performed. The layout algorithm is able to interpret this string and automatically format the machine's layout whenever it is re-opened in Stately Studio\u2019s editor."})]}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Caution"}),": if you use tab based-indentation in VS Code the extension might not work. ",(0,i.jsx)(t.a,{href:"https://code.visualstudio.com/docs/editor/codebasics#_indentation",children:"Setup VS Code to insert spaces"})," automatically."]})})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>a});var i=n(67294);const s={},o=i.createContext(s);function a(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);