"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[4659],{15639:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var o=n(85893),i=n(11151);const r={title:"Import from code"},a=void 0,c={id:"import-from-code",title:"Import from code",description:"Importing from code is helpful if you\u2019ve already built machines while working with XState, or have created a machine using our older Stately Viz but haven\u2019t yet tried Stately Studio\u2019s editor.",source:"@site/docs/import-from-code.mdx",sourceDirName:".",slug:"/import-from-code",permalink:"/xstate-zh/docs/import-from-code",draft:!1,unlisted:!1,editUrl:"https://github.com/statelyai/docs/tree/main/docs/import-from-code.mdx",tags:[],version:"current",frontMatter:{title:"Import from code"},sidebar:"tutorialSidebar",previous:{title:"\u4ee3\u7801",permalink:"/xstate-zh/docs/category/code"},next:{title:"Connect GitHub repo",permalink:"/xstate-zh/docs/import-from-github"}},s={},d=[{value:"Import state machines",id:"import-state-machines",level:2},{value:"Create a new machine inside a project using imported code",id:"create-a-new-machine-inside-a-project-using-imported-code",level:3},{value:"Import code to overwrite your machine",id:"import-code-to-overwrite-your-machine",level:3},{value:"Machine code example",id:"machine-code-example",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components},{Code:n,FilePlus2:r,Import:a}=t;return n||m("Code",!0),r||m("FilePlus2",!0),a||m("Import",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Importing from code is helpful if you\u2019ve already built machines while working with ",(0,o.jsx)(t.a,{href:"/xstate-zh/docs/xstate",children:"XState"}),", or have created a machine using our older ",(0,o.jsx)(t.a,{href:"https://stately.ai/viz",children:"Stately Viz"})," but haven\u2019t yet tried Stately Studio\u2019s editor."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["Watch our ",(0,o.jsx)(t.a,{href:"https://www.youtube.com/watch?v=DAoIFaugDLo",children:"\u201cImport from code\u201d video on YouTube"})," (2m24s)."]})}),"\n",(0,o.jsx)(t.h2,{id:"import-state-machines",children:"Import state machines"}),"\n",(0,o.jsxs)(t.p,{children:["Your state machine code should be formatted as a ",(0,o.jsxs)(t.a,{href:"/docs/actors#createmachine",children:[(0,o.jsx)(t.code,{children:"createMachine()"})," factory function"]})," before import. The importer has basic validation in case your machine has basic errors, including reminding you if the ",(0,o.jsx)(t.code,{children:"createMachine"})," definition is missing."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"/#machine-code-example",children:"Check out an importable machine code example at the end of this page"}),"."]}),"\n",(0,o.jsx)(t.admonition,{type:"warning",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Caution"}),": importing code will overwrite your current or selected machine unless you create a new machine from the machines list inside a project."]})}),"\n",(0,o.jsx)(t.admonition,{type:"new",children:(0,o.jsx)(t.p,{children:"The Stately editor now supports importing multiple machines from code."})}),"\n",(0,o.jsx)(t.h3,{id:"create-a-new-machine-inside-a-project-using-imported-code",children:"Create a new machine inside a project using imported code"}),"\n",(0,o.jsxs)(t.p,{children:["Create a ",(0,o.jsx)(r,{size:18})," ",(0,o.jsx)(t.strong,{children:"New machine"})," from the machines list inside a project, then use the ",(0,o.jsx)(n,{size:18})," ",(0,o.jsx)(t.strong,{children:"Import"})," button to import code into the new machine."]}),"\n",(0,o.jsx)(t.h3,{id:"import-code-to-overwrite-your-machine",children:"Import code to overwrite your machine"}),"\n",(0,o.jsxs)(t.p,{children:["Use ",(0,o.jsx)(t.strong,{children:"Import"})," button in the ",(0,o.jsx)(n,{size:18})," ",(0,o.jsx)(t.strong,{children:"Code"})," panel, or ",(0,o.jsx)(t.strong,{children:"Machine"})," > ",(0,o.jsx)(a,{size:18})," ",(0,o.jsx)(t.strong,{children:"Import"})," from the editor menu to overwrite your current machine."]}),"\n",(0,o.jsx)(t.h2,{id:"machine-code-example",children:"Machine code example"}),"\n",(0,o.jsxs)(t.p,{children:["Below is an example of a ",(0,o.jsx)(t.code,{children:"createMachine()"})," factory function which you can import as a machine without any errors:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"createMachine({\n  id: 'Video',\n  initial: 'Closed',\n  description: 'Video player',\n  states: {\n    Closed: {\n      on: {\n        PLAY: {\n          target: 'Opened',\n        },\n      },\n    },\n    Opened: {\n      invoke: {\n        src: 'startVideo',\n      },\n      initial: 'Playing',\n      description: 'Fullscreen mode',\n      states: {\n        Playing: {\n          on: {\n            PAUSE: {\n              target: 'Paused',\n            },\n          },\n        },\n        Paused: {\n          on: {\n            PLAY: {\n              target: 'Playing',\n            },\n          },\n        },\n        Stopped: {\n          type: 'final',\n          after: {\n            5000: {\n              target: '#Video.Closed',\n              actions: [],\n              internal: false,\n            },\n          },\n        },\n      },\n      on: {\n        STOP: {\n          target: '.Stopped',\n        },\n      },\n    },\n  },\n  context: {},\n  predictableActionArguments: true,\n  preserveActionOrder: true,\n});\n"})})]})}function h(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:(e,t,n)=>{n.d(t,{Z:()=>c,a:()=>a});var o=n(67294);const i={},r=o.createContext(i);function a(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);