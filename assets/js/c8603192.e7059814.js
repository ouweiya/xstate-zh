"use strict";(self.webpackChunkstately_docs=self.webpackChunkstately_docs||[]).push([[6874],{49183:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var a=o(85893),n=o(11151);const s={title:"Unlock bidirectional editing with sources",description:"With sources, you can now provide implementation code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze.",authors:["farzad","laura"],tags:["stately","editor","xstate","state machines","sources","actions","actors","guards"],date:new Date("2024-01-09T00:00:00.000Z"),slug:"2024-01-09-introducing-sources",image:"/blog/2024-01-09-introducing-sources.png"},i=void 0,r={permalink:"/xstate-zh/blog/2024-01-09-introducing-sources",editUrl:"https://github.com/statelyai/docs/edit/main/blog/2024-01-09-introducing-sources/index.mdx",source:"@site/blog/2024-01-09-introducing-sources/index.mdx",title:"Unlock bidirectional editing with sources",description:"With sources, you can now provide implementation code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze.",date:"2024-01-09T00:00:00.000Z",formattedDate:"January 9, 2024",tags:[{label:"stately",permalink:"/xstate-zh/blog/tags/stately"},{label:"editor",permalink:"/xstate-zh/blog/tags/editor"},{label:"xstate",permalink:"/xstate-zh/blog/tags/xstate"},{label:"state machines",permalink:"/xstate-zh/blog/tags/state-machines"},{label:"sources",permalink:"/xstate-zh/blog/tags/sources"},{label:"actions",permalink:"/xstate-zh/blog/tags/actions"},{label:"actors",permalink:"/xstate-zh/blog/tags/actors"},{label:"guards",permalink:"/xstate-zh/blog/tags/guards"}],readingTime:5.905,hasTruncateMarker:!0,authors:[{name:"Farzad Yousefzadeh",title:"Stately Team",url:"https://github.com/farskid",imageURL:"https://ascelcgzufjyvdzuplwo.supabase.co/storage/v1/object/public/avatars/farzad.png",key:"farzad"},{name:"Laura Kalbag",title:"Stately Team",url:"https://github.com/laurakalbag",imageURL:"https://ascelcgzufjyvdzuplwo.supabase.co/storage/v1/object/public/avatars/laura.png",key:"laura"}],frontMatter:{title:"Unlock bidirectional editing with sources",description:"With sources, you can now provide implementation code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze.",authors:["farzad","laura"],tags:["stately","editor","xstate","state machines","sources","actions","actors","guards"],date:"2024-01-09T00:00:00.000Z",slug:"2024-01-09-introducing-sources",image:"/blog/2024-01-09-introducing-sources.png"},unlisted:!1,prevItem:{title:"Bidirectional GitHub Sync is now here!",permalink:"/xstate-zh/blog/2024-01-09-introducing-bidirectional-github-sync"},nextItem:{title:"A look back at Stately in 2023",permalink:"/xstate-zh/blog/2024-01-08-a-look-back-at-stately-in-2023"}},c={authorsImageUrls:[void 0,void 0]},d=[{value:"What are sources?",id:"what-are-sources",level:2},{value:"Logic templates",id:"logic-templates",level:3},{value:"XState built-in actions",id:"xstate-built-in-actions",level:3},{value:"Actions, actors, and guards are now named",id:"actions-actors-and-guards-are-now-named",level:3},{value:"Importing sources from existing XState machines",id:"importing-sources-from-existing-xstate-machines",level:3},{value:"Action parameters",id:"action-parameters",level:3},{value:"Bi-directional editing with sources and GitHub sync",id:"bi-directional-editing-with-sources-and-github-sync",level:2},{value:"Sources make Stately Sky more powerful",id:"sources-make-stately-sky-more-powerful",level:2},{value:"The future",id:"the-future",level:2}];function l(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,n.a)(),...e.components},{Code:o,Plus:s,ThemedImage:i,YouTube:r}=t;return o||h("Code",!0),s||h("Plus",!0),i||h("ThemedImage",!0),r||h("YouTube",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"We\u2019re excited to share a feature that unlocks a whole new level of power and flexibility in Stately\u2019s editor: sources. With sources, you can now provide implementation source code for your actions, actors, and guards, making syncing between the editor and your codebase a breeze."}),"\n","\n",(0,a.jsxs)(t.p,{children:["One of the most significant benefits of using our Stately editor is using your state machines as a source of truth. Using your state machines as live documentation relies upon bi-directionally syncing between visualizing your state machine and integrating the implementation code in your codebase. Previously, we had workarounds for bi-directional work; you could use the ",(0,a.jsx)(t.a,{href:"https://marketplace.visualstudio.com/items?itemName=statelyai.stately-vscode",children:"XState VS Code extension"})," or add your implementation code ",(0,a.jsx)(t.em,{children:"after"})," exporting your machine. You could even keep your machine in a separate file from your implementations to make it easier to replace your machine code with the exported code without overwriting your implementations. But you couldn\u2019t provide implementation code in the editor, and importing your implementations from an existing machine would lose them. But that has all now changed with the introduction of sources!"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Watch a demo of sources from our office hours at the end of December:"})}),"\n",(0,a.jsx)(r,{id:"x-F1TPjz_lI"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsxs)(t.em,{children:["\u25b6\ufe0f ",(0,a.jsx)(t.a,{href:"https://www.youtube.com/watch?v=x-F1TPjz_lI&t=318s",children:"Jump straight to the video chapter on sources"}),"."]})}),"\n",(0,a.jsx)(t.h2,{id:"what-are-sources",children:"What are sources?"}),"\n",(0,a.jsxs)(t.p,{children:["Using the ",(0,a.jsx)(o,{size:18})," ",(0,a.jsx)(t.strong,{children:"Sources"})," panel, you can now provide source code for your actions, actors, and guards implementations from inside Stately\u2019s editor."]}),"\n",(0,a.jsxs)(t.p,{children:["You can add custom source code from the ",(0,a.jsx)(t.strong,{children:"Sources"})," panel to suit your needs or choose from logic templates. Your source code will be included in your ",(0,a.jsx)(t.a,{href:"/docs/stately-sky-getting-started",children:"live actors"}),", ",(0,a.jsx)(t.a,{href:"/docs/import-from-github",children:"synced projects"}),", and ",(0,a.jsx)(t.a,{href:"/docs/export-as-code",children:"exported code"}),", as found in the ",(0,a.jsx)(o,{size:18})," ",(0,a.jsx)(t.strong,{children:"Code"})," panel. When an action, actor, or guard is selected, the ",(0,a.jsx)(t.strong,{children:"Sources"})," panel shows its source code. When no item is selected on the canvas, the ",(0,a.jsx)(t.strong,{children:"Sources"})," panel shows all the sources for your current machine."]}),"\n",(0,a.jsx)(t.h3,{id:"logic-templates",children:"Logic templates"}),"\n",(0,a.jsxs)(t.p,{children:["You can also choose from logic templates when editing the sources for your actions, actors, or guards. Use the template buttons to quickly add the implementation code for XState\u2019s ",(0,a.jsx)(t.a,{href:"/docs/actors#actor-logic-creators",children:"logic creators"}),", ",(0,a.jsx)(t.a,{href:"/docs/guards#higher-level-guards",children:"higher-level guards"}),", and ",(0,a.jsx)(t.a,{href:"/docs/actions",children:"built-in actions"}),", and the correct XState imports will be added to your code for sync or export."]}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)(i,{alt:"The sources panel open for a pizzaRecieced entry action. In the source code, the sendTo action is being used to send an event of pizzaRecieved to the reviewApp actor.",sources:{light:"/blog/2024-01-09-introducing-sources/sources.png",dark:"/blog/2024-01-09-introducing-sources/sources-dm.png"}})}),"\n",(0,a.jsxs)(t.p,{children:["And yes, this means that we can now import your existing source code from your state machines, visualize them on the canvas, show them as sources in the studio, and keep your original code intact when exporting or syncing back to your codebase. ",(0,a.jsx)(t.strong,{children:"In short, if you\u2019re going back and forth between your codebase and Stately\u2019s editor, you don\u2019t have to worry about the implementation code getting lost or overwritten"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"xstate-built-in-actions",children:"XState built-in actions"}),"\n",(0,a.jsxs)(t.p,{children:["Previously, when you added an action to your machine in the editor, you\u2019d have the option to make it a custom action or choose from one of XState\u2019s built-in actions, including ",(0,a.jsx)(t.a,{href:"/docs/actions#assign-action",children:(0,a.jsx)(t.code,{children:"assign()"})}),", ",(0,a.jsx)(t.a,{href:"/docs/actions#raise-action",children:(0,a.jsx)(t.code,{children:"raise()"})}),", and ",(0,a.jsx)(t.a,{href:"/docs/actions#send-to-action",children:(0,a.jsx)(t.code,{children:"sendTo()"})}),". Those built-in actions are now shown as fully editable ",(0,a.jsx)(t.a,{href:"#logic-templates",children:"logic templates"})," in the sources panel, and built-in actions are still shown with their action type on the canvas."]}),"\n",(0,a.jsx)(t.h3,{id:"actions-actors-and-guards-are-now-named",children:"Actions, actors, and guards are now named"}),"\n",(0,a.jsxs)(t.p,{children:["Previously, not all actions, actors, and guards had names, especially if you had imported ",(0,a.jsx)(t.a,{href:"/docs/actions#inline-actions",children:"inline actions"})," or ",(0,a.jsx)(t.a,{href:"/docs/guards#inline-guards",children:"inline guards"})," from your XState machines. Now, when creating new actions, actors, or guards on the canvas, you\u2019ll be prompted to give them a name, which is an important addition when importing source code from existing XState machines."]}),"\n",(0,a.jsx)(t.h3,{id:"importing-sources-from-existing-xstate-machines",children:"Importing sources from existing XState machines"}),"\n",(0,a.jsx)(t.p,{children:"When importing a machine from your codebase, we\u2019ll give your unnamed actions, actors, and guards a default name based on their position in your machine config. For example, the following action:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"createMachine({\n  states: {\n    a: {\n      states: {\n        b: { entry: [assign({ name: 'laura' })] },\n      },\n    },\n  },\n});\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Would be given a default name of ",(0,a.jsx)(t.code,{children:"inline:(machine).a.b#entry[0]"}),". These default names are not visible in the editor but will be used in the synced or exported code unless you give your action, actor, or guard a name. ",(0,a.jsx)(t.code,{children:"inline:"})," is prepended to the name to make them more readable and easier to find in your code. After first importing your machine, we recommend you give all your actions, actors, and guards a name. Naming is a one-time step, and you can always rename them later. Giving your sources distinct names also means that multiple actors, actions, or guards can reference them, which can be really useful when combined with parameters."]}),"\n",(0,a.jsx)(t.h3,{id:"action-parameters",children:"Action parameters"}),"\n",(0,a.jsxs)(t.p,{children:["You can now add ",(0,a.jsx)(t.a,{href:"/docs/actions#dynamic-action-parameters",children:"parameters"})," to your actions! When adding or editing an action on the canvas, you can use the button to Add ",(0,a.jsx)(s,{size:18})," ",(0,a.jsx)(t.strong,{children:"parameter"}),". From here, you can add key-value pairs as parameters for dynamic input that can be used in your source code. Parameters don\u2019t just open the possibility for more reusable actions; in the future, ",(0,a.jsx)(t.a,{href:"/docs/simulation-mode",children:"Simulation mode"})," and live actors will be able to use these parameters to execute actions based on different inputs when simulating your machine."]}),"\n",(0,a.jsx)("p",{children:(0,a.jsx)(i,{alt:"The confirm_order event with a setOrderStatus transition action that\u2019s open showing the options to add parameters, with a parameter added using the key of status and the value of confirmed.",sources:{light:"/blog/2024-01-09-introducing-sources/action-params.png",dark:"/blog/2024-01-09-introducing-sources/action-params-dm.png"}})}),"\n",(0,a.jsx)(t.p,{children:"Actor inputs are also coming soon\u2026\xa0enabling you to provide dynamic input to the actor when it executes. Actor inputs will be a game-changing combination with sources for deployed workflows in Stately Sky!"}),"\n",(0,a.jsx)(t.h2,{id:"bi-directional-editing-with-sources-and-github-sync",children:"Bi-directional editing with sources and GitHub sync"}),"\n",(0,a.jsxs)(t.p,{children:["If you haven\u2019t checked it out yet, ",(0,a.jsx)(t.a,{href:"https://www.youtube.com/live/x-F1TPjz_lI?feature=shared&t=602",children:"watch Kevin\u2019s demo of GitHub Sync"}),", which we\u2019re also releasing this week. ",(0,a.jsx)(t.a,{href:"/docs/import-from-github",children:"GitHub Sync"})," and sources are a powerful combination. With GitHub Sync, you don\u2019t even need to use the export button to sync your machine with your codebase. And sources ensure that your code stays intact when syncing bi-directionally between your codebase and the editor."]}),"\n",(0,a.jsx)(t.h2,{id:"sources-make-stately-sky-more-powerful",children:"Sources make Stately Sky more powerful"}),"\n",(0,a.jsxs)(t.p,{children:["Sources also bring huge benefits to ",(0,a.jsx)(t.a,{href:"/docs/stately-sky-getting-started",children:"Stately Sky"}),", as your live actors can now execute the source code from your actions, actors, and guards in the cloud."]}),"\n",(0,a.jsx)(t.h2,{id:"the-future",children:"The future"}),"\n",(0,a.jsx)(t.p,{children:"We\u2019re excited about sources because of all the features they enable in Stately Studio and your overall developer experience, helping Stately Studio become the visual collaborative source of truth for your app logic and workflows."}),"\n",(0,a.jsxs)(t.p,{children:["Using sources is free on all our plans, and you can ",(0,a.jsx)(t.a,{href:"https://stately.ai/pricing",children:"try our premium features, including GitHub Sync and Stately Sky, for free"})," on a ",(0,a.jsx)(t.a,{href:"/docs/studio-pro-plan",children:"Pro plan"})," or with your team on a ",(0,a.jsx)(t.a,{href:"/docs/studio-team-plan",children:"Team plan"}),". You can ",(0,a.jsx)(t.a,{href:"/docs/sources",children:"read more about sources in our docs"}),", and please share your feedback with us on our ",(0,a.jsx)(t.a,{href:"https://discord.stately.ai",children:"social platforms"})," or in our regular ",(0,a.jsx)(t.a,{href:"https://www.youtube.com/watch?v=-Jf9N-EaUx0&list=PLvWgkXBB3dd6PXbSoctwDXjWX-AQrxhds",children:"office hours live streams"}),". If you want help getting started with sources or getting your team set up with Stately and XState, ",(0,a.jsx)(t.a,{href:"https://stately.ai/pricing#services",children:"the Stately team is available for workshops and consulting"}),", and you can ",(0,a.jsx)(t.a,{href:"https://calendly.com/d/yc8-3hq-rpc/request-a-demo",children:"book a demo call"})," with us to learn more about how Stately can work for your team."]})]})}function u(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}function h(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:(e,t,o)=>{o.d(t,{Z:()=>r,a:()=>i});var a=o(67294);const n={},s=a.createContext(n);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);